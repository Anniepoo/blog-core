<h2 data-bind="text: 'Directory ' + directory"></h2>

<p>
    <a data-bind="css: { disabled: directory === '/' }, attr: { href: '#directory/' + parent }" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-arrow-up"></span>
    </a>
    <a data-bind="click: showSubdirectoryForm" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-folder-close"></span> Add
    </a>
    <a data-bind="click: showUploadForm" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-upload"></span> Upload
    </a>
    <a data-bind="click: removeDirectory, css: { disabled: directory === '/' }" class="btn btn-default" href="#">
        <span class="glyphicon glyphicon-remove-circle"></span> Remove
    </a>
</p>


<div data-bind="visible: subdirectory_form" class="panel panel-default">
    <div class="panel-heading">New directory</div>
    <div class="panel-body">
        <form data-bind="submit: addSubdirectory" autocomplete="off">
            <div class="form-group">
                <label for="directory-new">Directory name</label>
                <input data-bind="value: subdirectory"
                    type="text" class="form-control" id="directory-new"
                    placeholder="Directory name" required="true">
            </div>
            <button type="submit" class="btn btn-default">
                <span class="glyphicon glyphicon-folder-close"></span> Add
            </button>
            <a data-bind="click: cancelDirectoryForm" class="btn btn-default" href="#">
                <span class="glyphicon glyphicon-remove-circle"></span> Cancel
            </a>
        </form>
    </div>
</div>

<div data-bind="visible: upload_form" class="panel panel-default">
    <div class="panel-heading">Upload file</div>
    <div class="panel-body">
        <form data-bind="submit: upload" autocomplete="off">
            <div class="form-group">
                <label for="directory-file">File</label>
                <input type="file" class="form-control" id="directory-file"
                    placeholder="Your file" required="true">
            </div>
            <div class="form-group">
                <div class="progress">
                    <div data-bind="attr: { 'aria-valuenow': progress }, style: { width: progress + '%' }" class="progress-bar" role="progressbar" aria-valuenow="0"
                        aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                        <span data-bind="text: progress + '% complete'" class="sr-only"></span>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-default">
                <span class="glyphicon glyphicon-upload"></span> Upload
            </button>
            <a data-bind="click: cancelUploadForm" class="btn btn-default" href="#">
                <span class="glyphicon glyphicon-remove-circle"></span> Cancel
            </a>
        </form>
    </div>
</div>

<div data-bind="foreach: entries" class="list-group">
    <a data-bind="attr: { href: (directory ? '#directory/' : '#file/') + encoded }" href="#" class="list-group-item">
        <span data-bind="css: { 'glyphicon-folder-close': directory, 'glyphicon-file': !directory }" class="glyphicon"></span>
        <span data-bind="text: name"></span>
    </a>
</div>